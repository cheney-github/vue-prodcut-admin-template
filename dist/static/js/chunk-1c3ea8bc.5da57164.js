(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c3ea8bc"],{4218:function(e,t,n){"use strict";var a=n("9590"),r=n.n(a);r.a},5723:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return i}),n.d(t,"p",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"m",function(){return m}),n.d(t,"o",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"e",function(){return g}),n.d(t,"r",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return w}),n.d(t,"i",function(){return y}),n.d(t,"q",function(){return x});var a=n("b775");function r(e){return Object(a["a"])({url:"/admin/system/user/findSystemUserPagination",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/admin/system/user/isEnable",method:"post",params:e})}function s(e){return Object(a["a"])({url:"/admin/system/user/resetPassword",method:"post",params:e})}function i(e){return Object(a["a"])({url:"/admin/system/user/insert",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/system/user/update",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/admin/system/role/findSysRoleAll",method:"get",params:e})}function c(e){return Object(a["a"])({url:"/admin/system/role/findSystemRolePagination",method:"get",params:e})}function m(e){return Object(a["a"])({url:"/admin/system/role/delete",method:"delete",params:e})}function d(e){return Object(a["a"])({url:"/admin/system/role/update",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/admin/system/role/insert",method:"post",data:e})}function p(e){return Object(a["a"])({url:"/admin/system/role/checkRole",method:"post",params:e})}function g(e){return Object(a["a"])({url:"/admin/system/resource/getTreeMenuData",method:"get",params:e})}function h(e){return Object(a["a"])({url:"/admin/system/roleResource/updateResource",method:"post",data:e})}function b(e){return Object(a["a"])({url:"/admin/system/resource/findSysResourceById",method:"get",params:e})}function v(e){return Object(a["a"])({url:"/admin/system/resource/insert",method:"post",data:e})}function w(e){return Object(a["a"])({url:"/admin/system/resource/update",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/admin/system/resource/delete",method:"delete",params:e})}function x(e){return Object(a["a"])({url:"/admin/system/user/updatePassword",method:"post",params:e})}},"7b15":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("div",{staticClass:"el-header"},[n("el-form",{ref:"formAccount",staticClass:"demo-ruleForm",attrs:{model:e.formAccount}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"登录账号",prop:"username","label-width":"120px"}},[n("el-input",{model:{value:e.formAccount.username,callback:function(t){e.$set(e.formAccount,"username","string"===typeof t?t.trim():t)},expression:"formAccount.username"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"名称",prop:"name","label-width":"120px"}},[n("el-input",{model:{value:e.formAccount.name,callback:function(t){e.$set(e.formAccount,"name","string"===typeof t?t.trim():t)},expression:"formAccount.name"}})],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"手机号码",prop:"phone","label-width":"120px"}},[n("el-input",{model:{value:e.formAccount.phone,callback:function(t){e.$set(e.formAccount,"phone","string"===typeof t?t.trim():t)},expression:"formAccount.phone"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"账户状态",prop:"isEnable","label-width":"120px"}},[n("el-select",{attrs:{filterable:"","no-match-text":"暂无匹配数据",placeholder:"请选择保险公司"},model:{value:e.formAccount.isEnable,callback:function(t){e.$set(e.formAccount,"isEnable",t)},expression:"formAccount.isEnable"}},e._l(e.statusData,function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1)],1),e._v(" "),n("el-col",{attrs:{span:11}},[n("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.searchData(1)}}},[e._v("查 询")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.addAccount}},[e._v("新 增")])],1)],1)],1)],1),e._v(" "),n("el-main",[n("el-table",{staticStyle:{"margin-bottom":"40px"},attrs:{data:e.tableData.data,"show-header":"","header-cell-style":{background:"#F3F4F7",color:"#555"}}},[n("el-table-column",{attrs:{prop:"createTime",label:"添加时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatTime")(t.row.createDate,t.row.createDate))+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"username",label:"登录账号",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"200",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"roleName",label:"角色名称",width:"200",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"isEnable",label:"账户状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.isEnable?"有效":"无效")+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"clause",label:"操作",width:"240",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"medium"},nativeOn:{click:function(n){return n.preventDefault(),e.editRow(t.$index)}}},[e._v("\n            编辑账户\n          ")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"medium"},nativeOn:{click:function(n){return n.preventDefault(),e.rootBtn(t.$index)}}},[e._v("\n            "+e._s(t.row.isEnable?"冻结账户":"开启账户")+"\n          ")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"medium"},nativeOn:{click:function(n){return n.preventDefault(),e.resetPWD(t.$index)}}},[e._v("\n            重置密码\n          ")])]}}])})],1),e._v(" "),n("el-row",{staticStyle:{"text-align":"center"}},[n("el-pagination",{attrs:{background:"","current-page":e.pagination.pageNum,layout:"prev, pager, next","page-sizes":[10,20,30],total:e.tableData.total,"page-size":e.pagination.pageSize},on:{"current-change":e.changePage,"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)}}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"提示",visible:e.hintDialog,width:"40%",center:""},on:{"update:visible":function(t){e.hintDialog=t}}},[n("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.hintContent))]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.hintHandle}},[e._v("确 定")]),e._v(" "),n("el-button",{on:{click:e.hintClose}},[e._v("取 消")])],1)]),e._v(" "),n("el-dialog",{attrs:{title:"提示",visible:e.pwdDialog,width:"40%",center:""},on:{"update:visible":function(t){e.pwdDialog=t}}},[n("h3",{staticStyle:{"text-align":"center"}},[e._v("密码重置后，请使用新密码登录。新密码为123456")]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.pwdHandle}},[e._v("确 定")]),e._v(" "),n("el-button",{on:{click:e.pwdClose}},[e._v("取 消")])],1)]),e._v(" "),n("el-dialog",{attrs:{title:e.messageTitle,visible:e.messageDialog,width:"40%",center:""},on:{"update:visible":function(t){e.messageDialog=t}}},[n("el-form",{ref:"formMessage",staticClass:"demo-ruleForm",attrs:{model:e.formMessage,rules:e.formMessageRules}},[n("el-form-item",{attrs:{label:"登录账号",prop:"username","label-width":"120px"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{readonly:e.isReadonly,placeholder:"请输入登录账号"},model:{value:e.formMessage.username,callback:function(t){e.$set(e.formMessage,"username","string"===typeof t?t.trim():t)},expression:"formMessage.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"名称",prop:"name","label-width":"120px"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入名称"},model:{value:e.formMessage.name,callback:function(t){e.$set(e.formMessage,"name","string"===typeof t?t.trim():t)},expression:"formMessage.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"手机号码",prop:"phone","label-width":"120px"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"11",placeholder:"请输入手机号码"},model:{value:e.formMessage.phone,callback:function(t){e.$set(e.formMessage,"phone","string"===typeof t?t.trim():t)},expression:"formMessage.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"角色名称",prop:"roleId","label-width":"120px"}},[n("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"","no-match-text":"暂无匹配数据",placeholder:"请选择角色名称"},model:{value:e.formMessage.roleId,callback:function(t){e.$set(e.formMessage,"roleId",t)},expression:"formMessage.roleId"}},e._l(e.roleData,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.messageHandle("formMessage")}}},[e._v("确 定")]),e._v(" "),n("el-button",{on:{click:e.messageClose}},[e._v("取 消")])],1)],1)],1)},r=[],o=(n("7f7f"),n("5723")),s=n("7b53"),i={data:function(){return{formAccount:{username:"",name:"",phone:"",isEnable:null},formMessage:{username:"",name:"",phone:"",roleId:""},formMessageRules:{username:[{validator:s["a"],trigger:"blur"}],name:[{validator:s["f"],trigger:"blur"}],phone:[{validator:s["i"],trigger:"blur"}],roleId:[{validator:s["g"],trigger:"blur"}]},statusData:[{name:"全部",value:null},{name:"有效",value:1},{name:"无效",value:0}],nowIndex:0,tableData:{},roleData:[],pagination:{pageNum:1,pageSize:6},hintDialog:!1,hintContent:"",messageDialog:!1,messageTitle:"",pwdDialog:!1}},created:function(){this.findSystemUserPaginationAxios(),this.findSysRoleAllAxios()},computed:{isReadonly:function(){return-1===this.messageTitle.indexOf("新增")}},methods:{findSystemUserPaginationAxios:function(e){var t=this;Object(o["d"])(Object.assign({},this.formAccount,this.pagination,e)).then(function(e){"100100"===e.code&&(0===e.result.data.length&&1!==t.pagination.pageNum&&(t.pagination.pageNum=1,t.findSystemUserPaginationAxios()),t.tableData=e.result)})},isEnableAxios:function(e){var t=this;Object(o["g"])(e).then(function(e){"100100"===e.code?(t.$message.success(e.msg),t.searchData()):t.$message.error(e.msg)})},resetPasswordAxios:function(e){var t=this;Object(o["h"])(e).then(function(e){"100100"===e.code?(t.$message.success(e.msg),t.searchData()):t.$message.error(e.msg)})},insertAxios:function(e){var t=this;Object(o["f"])(e).then(function(e){"100100"===e.code?(t.$message.success(e.msg),t.searchData()):t.$message.error(e.msg)})},updateAxios:function(e){var t=this;Object(o["p"])(e).then(function(e){"100100"===e.code?(t.$message.success(e.msg),t.searchData()):t.$message.error(e.msg)})},findSysRoleAllAxios:function(e){var t=this;Object(o["b"])(e).then(function(e){"100100"===e.code&&(t.roleData=e.result)})},searchData:function(e){e&&(this.pagination.pageNum=1),this.messageDialog=!1,this.hintDialog=!1,this.pwdDialog=!1,this.formAccount.isEnable&&(1===this.formAccount.isEnable?this.formAccount.isEnable=!0:this.formAccount.isEnable=!1),this.findSystemUserPaginationAxios(this.formAccount),this.formAccount.isEnable&&(!0===this.formAccount.isEnable?this.formAccount.isEnable=1:this.formAccount.isEnable=0)},editRow:function(e){this.messageTitle="编辑",this.formMessage=JSON.parse(JSON.stringify(this.tableData.data[e])),this.messageDialog=!0},addAccount:function(){this.messageTitle="新增",this.messageDialog=!0,this.formMessage={username:"",name:"",phone:"",roleId:""}},messageHandle:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;-1!==t.messageTitle.indexOf("新增")?t.insertAxios(t.formMessage):t.updateAxios(t.formMessage)})},messageClose:function(){this.messageDialog=!1},hintHandle:function(){this.isEnableAxios({isEnable:!this.tableData.data[this.nowIndex].isEnable,id:this.tableData.data[this.nowIndex].id}),this.searchData()},hintClose:function(){this.hintDialog=!1},resetPWD:function(e){this.nowIndex=e,this.pwdDialog=!0},pwdHandle:function(){this.resetPasswordAxios({id:this.tableData.data[this.nowIndex].id})},pwdClose:function(){this.pwdDialog=!1},rootBtn:function(e){this.tableData.data[e].isEnable?this.hintContent="您确定开启".concat(this.tableData.data[e].name,"账户的使用么？"):this.hintContent="您确定冻结".concat(this.tableData.data[e].name,"账户的使用么？"),this.nowIndex=e,this.hintDialog=!0},changePage:function(e){this.pagination.pageNum=e,this.searchData()}}},l=i,u=(n("4218"),n("2877")),c=Object(u["a"])(l,a,r,!1,null,"d928d67c",null);t["default"]=c.exports},"7b53":function(e,t,n){"use strict";function a(e,t,n){if(!t)return n(new Error("当前项不能为空"));n()}function r(e,t,n){if(!t)return n(new Error("账号不能为空"));n()}function o(e,t,n){if(!t)return n(new Error("手机号不能为空"));var a=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!a.test(t))return n(new Error("请输入正确的手机号"));n()}function s(e,t,n){if(!t)return n(new Error("请选择"));n()}function i(e,t,n){if(!t)return n(new Error("请输入英文名称"));var a=/^[A-Z]/;if(!a.test(t))return n(new Error("名称必须都是大写"));n()}function l(e,t,n){if(!t)return n(new Error("请输入排序"));var a=/^([1-9][0-9]*)/;if(!a.test(t))return n(new Error("只能输入数字"));n()}function u(e,t,n){if(!t)return n(new Error("请输入链接"));n()}function c(e,t,n){if(!t)return n(new Error("请上传文件  "));n()}function m(e,t,n){if(!t)return n(new Error("请输入日期"));var a=/^([1-9]|[1-2][0-9]|3[0-1])$/;if(!a.test(t))return n(new Error("只能输入1~31范围数字"));n()}function d(e,t,n){if(!t)return n(new Error("请输入价格"));var a=/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;if(!a.test(t))return n(new Error("价格格式不正确"));n()}n.d(t,"f",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"i",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"h",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"j",function(){return c}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return d})},9590:function(e,t,n){}}]);