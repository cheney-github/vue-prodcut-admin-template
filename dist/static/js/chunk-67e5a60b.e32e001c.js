(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67e5a60b"],{3471:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-bottom":"50px"}},[n("h1",{staticClass:"title_line"},[t._v(t._s(t.currentTitle))]),t._v(" "),n("el-form",{ref:"planForm",staticClass:"form",attrs:{model:t.planForm,rules:t.planFormRules}},[n("el-form-item",{attrs:{label:"计划名称：",prop:"planName","label-width":"150px"}},[n("el-col",{attrs:{span:10}},[n("el-input",{model:{value:t.planForm.planName,callback:function(e){t.$set(t.planForm,"planName",e)},expression:"planForm.planName"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"起始价格：",prop:"priceStart","label-width":"150px"}},[n("el-col",{attrs:{span:10}},[n("el-input",{model:{value:t.planForm.priceStart,callback:function(e){t.$set(t.planForm,"priceStart",e)},expression:"planForm.priceStart"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"计划标签：",prop:"planLabel","label-width":"150px"}},[n("el-col",{attrs:{span:10}},[n("el-input",{model:{value:t.planForm.planLabel,callback:function(e){t.$set(t.planForm,"planLabel",e)},expression:"planForm.planLabel"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"产品详情banner图：",prop:"banner","label-width":"150px"}},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:t.logoShow,expression:"logoShow"}],staticClass:"showLogo"},[n("img",{attrs:{src:t.planForm.banner,alt:""}}),t._v(" "),n("i",{staticClass:"el-icon-close",on:{click:function(e){return t.handldAvatarRemove()}}})]),t._v(" "),n("el-upload",{directives:[{name:"show",rawName:"v-show",value:!t.logoShow,expression:"!logoShow"}],attrs:{"list-type":"picture-card",action:t.baseUpLoad,"with-credentials":!0,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,accept:".jpg,.png","file-list":t.fileLoad}},[n("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),n("h1",{staticClass:"title_line",staticStyle:{"margin-top":"30px","margin-bottom":"30px"}},[t._v("保障方案")]),t._v(" "),n("el-table",{staticClass:"tb-edit",staticStyle:{width:"100%"},attrs:{data:t.planForm.productDutyList,"highlight-current-row":"","header-cell-style":{background:"#F3F4F7",color:"#555"}}},[n("el-table-column",{attrs:{prop:"name",label:"名称",width:"230",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form-item",{attrs:{prop:"productDutyList."+e.$index+".name",rules:t.planFormRules.name}},[n("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"值",width:"230",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form-item",{attrs:{prop:"productDutyList."+e.$index+".value",rules:t.planFormRules.value}},[n("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"描述",width:"420",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form-item",{attrs:{prop:"productDutyList."+e.$index+".detail",rules:t.planFormRules.detail}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.row.detail,callback:function(n){t.$set(e.row,"detail",n)},expression:"scope.row.detail"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"el-icon-content"},[n("i",{staticClass:"el-icon-plus",on:{click:function(n){return t.handleAdd(e.$index)}}}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.planForm.productDutyList.length>1,expression:"planForm.productDutyList.length>1"}],staticClass:"el-icon-delete",on:{click:function(n){return t.handleDelete(e.$index)}}})])]}}])})],1),t._v(" "),n("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.planHandle("planForm")}}},[t._v("确 定")])],1)],1)],1)},a=[],o=n("7b53"),u=n("c4c8"),i={data:function(){return{baseUpLoad:"",planForm:{planName:"",priceStart:"",planLabel:"",banner:"",productDutyList:[{name:"",value:"",detail:""}],currentTitle:"新增计划"},planFormRules:{planName:[{validator:o["f"],trigger:"blur"}],priceStart:[{validator:o["d"],trigger:"blur"}],planLabel:[{validator:o["f"],trigger:"blur"}],banner:[{validator:o["j"],trigger:"blur"}],name:[{validator:o["f"],trigger:"blur"}],value:[{validator:o["f"],trigger:"blur"}],detail:[{validator:o["f"],trigger:"blur"}]},fileLoad:[]}},created:function(){this.baseUpLoad="http://test.gateway.homeins.cn/api/product-center/admin/upload",this.$route.query.planId?(this.getProductPlanByIdAxios({planId:this.$route.query.planId}),this.currentTitle="编辑计划"):this.currentTitle="新增计划"},computed:{logoShow:function(){return""!==this.planForm.banner}},methods:{getProductPlanByIdAxios:function(t){var e=this;Object(u["B"])(t).then(function(t){"100100"===t.code&&(e.planForm=t.result.productPlan,e.planForm.productDutyList=t.result.productDutyList)})},addProductPlanAxios:function(t){var e=this;Object(u["k"])(Object.assign({productId:this.$route.query.id},t)).then(function(t){"100100"===t.code&&(-1!==e.currentTitle.indexOf("新增")?e.$message.success("新增计划数据成功"):e.$message.success("编辑计划数据成功"),window.history.back(-1))})},planHandle:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.addProductPlanAxios(e.planForm)})},handleDelete:function(t){this.planForm.productDutyList.splice(t,1)},handleAdd:function(t){var e={name:"",value:"",detail:""};this.planForm.productDutyList.splice(t+1,0,e)},handleAvatarSuccess:function(t,e,n){"100100"===t.code&&(this.fileLoad=n,this.planForm.banner=t.result)},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},handldAvatarRemove:function(){this.planForm.banner="",this.fileLoad=[]}}},l=i,d=(n("e4a6"),n("2877")),c=Object(d["a"])(l,r,a,!1,null,"da1930f0",null);e["default"]=c.exports},"7b53":function(t,e,n){"use strict";function r(t,e,n){if(!e)return n(new Error("当前项不能为空"));n()}function a(t,e,n){if(!e)return n(new Error("账号不能为空"));n()}function o(t,e,n){if(!e)return n(new Error("手机号不能为空"));var r=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!r.test(e))return n(new Error("请输入正确的手机号"));n()}function u(t,e,n){if(!e)return n(new Error("请选择"));n()}function i(t,e,n){if(!e)return n(new Error("请输入英文名称"));var r=/^[A-Z]/;if(!r.test(e))return n(new Error("名称必须都是大写"));n()}function l(t,e,n){if(!e)return n(new Error("请输入排序"));var r=/^([1-9][0-9]*)/;if(!r.test(e))return n(new Error("只能输入数字"));n()}function d(t,e,n){if(!e)return n(new Error("请输入链接"));n()}function c(t,e,n){if(!e)return n(new Error("请上传文件  "));n()}function s(t,e,n){if(!e)return n(new Error("请输入日期"));var r=/^([1-9]|[1-2][0-9]|3[0-1])$/;if(!r.test(e))return n(new Error("只能输入1~31范围数字"));n()}function m(t,e,n){if(!e)return n(new Error("请输入价格"));var r=/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;if(!r.test(e))return n(new Error("价格格式不正确"));n()}n.d(e,"f",function(){return r}),n.d(e,"a",function(){return a}),n.d(e,"i",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"b",function(){return i}),n.d(e,"h",function(){return l}),n.d(e,"c",function(){return d}),n.d(e,"j",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return m})},c4c8:function(t,e,n){"use strict";n.d(e,"r",function(){return a}),n.d(e,"t",function(){return o}),n.d(e,"C",function(){return u}),n.d(e,"x",function(){return i}),n.d(e,"i",function(){return l}),n.d(e,"y",function(){return d}),n.d(e,"e",function(){return c}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return m}),n.d(e,"h",function(){return p}),n.d(e,"q",function(){return f}),n.d(e,"a",function(){return b}),n.d(e,"E",function(){return h}),n.d(e,"l",function(){return g}),n.d(e,"F",function(){return v}),n.d(e,"s",function(){return w}),n.d(e,"m",function(){return O}),n.d(e,"b",function(){return j}),n.d(e,"D",function(){return y}),n.d(e,"v",function(){return P}),n.d(e,"n",function(){return F}),n.d(e,"f",function(){return x}),n.d(e,"G",function(){return L}),n.d(e,"w",function(){return _}),n.d(e,"u",function(){return C}),n.d(e,"o",function(){return S}),n.d(e,"g",function(){return $}),n.d(e,"H",function(){return D}),n.d(e,"A",function(){return k}),n.d(e,"k",function(){return E}),n.d(e,"I",function(){return I}),n.d(e,"B",function(){return A}),n.d(e,"z",function(){return B}),n.d(e,"j",function(){return N}),n.d(e,"p",function(){return R});var r=n("b775");function a(t){return Object(r["a"])({url:"/admin/getCompany",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/admin/getFirstClass",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/admin/getSecondClass",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/admin/getProductByConditions",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/admin/addProduct",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/admin/getProductById",method:"get",params:t})}function c(t){return Object(r["a"])({url:"/admin/addPhotoInfo",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/admin/addInsuranceNotes",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/admin/addHealthNotice",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/admin/addPowerInfo",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/admin/getCommonProblem",method:"get",params:t})}function b(t){return Object(r["a"])({url:"/admin/addCommonProblem",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/admin/addCommonProblem",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/admin/deleteCommonProblem",method:"delete",params:t})}function v(t){return Object(r["a"])({url:"/admin/addCommonProblem?id="+t.id+"&status="+t.status,method:"post",data:t})}function w(t){return Object(r["a"])({url:"/admin/addCommonProblem",method:"get",params:t})}function O(t){return Object(r["a"])({url:"/admin/deleteCustomerInformation",method:"delete",params:t})}function j(t){return Object(r["a"])({url:"/admin/addCustomerInformation",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/admin/getTermsByType",method:"get",params:t})}function P(t){return Object(r["a"])({url:"/admin/getPlanDictGroupList",method:"get",params:t})}function F(t){return Object(r["a"])({url:"/admin/deletePlanDictGroup",method:"delete",params:t})}function x(t){return Object(r["a"])({url:"/admin/addPlanDictGroup",method:"post",data:t})}function L(t){return Object(r["a"])({url:"/admin/updatePlanDictGroup",method:"put",data:t})}function _(t){return Object(r["a"])({url:"/admin/getPlanDictOptionList",method:"get",params:t})}function C(t){return Object(r["a"])({url:"/admin/getOptionSelect",method:"get",params:t})}function S(t){return Object(r["a"])({url:"/admin/deletePlanDictOption",method:"delete",params:t})}function $(t){return Object(r["a"])({url:"/admin/addPlanDictOption",method:"post",data:t})}function D(t){return Object(r["a"])({url:"/admin/updatePlanDictOption",method:"put",data:t})}function k(t){return Object(r["a"])({url:"/admin/getProductPlanByConditions",method:"get",params:t})}function E(t){return Object(r["a"])({url:"/admin/addProductPlan",method:"post",data:t})}function I(t){return Object(r["a"])({url:"/admin/updateProductPlanStatus",method:"put",params:t})}function A(t){return Object(r["a"])({url:"/admin/getProductPlanById",method:"get",params:t})}function B(t){return Object(r["a"])({url:"/admin/getProductOptionById",method:"get",params:t})}function N(t){return Object(r["a"])({url:"/admin/addProductOption",method:"post",data:t})}function R(t){return Object(r["a"])({url:"/admin/deleteProductOptionById",method:"delete",params:t})}},e4a6:function(t,e,n){"use strict";var r=n("fd06"),a=n.n(r);a.a},fd06:function(t,e,n){}}]);