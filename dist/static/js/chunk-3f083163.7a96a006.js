(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f083163"],{2704:function(e,t,r){"use strict";var n=r("99da"),a=r.n(n);a.a},"7b53":function(e,t,r){"use strict";function n(e,t,r){if(!t)return r(new Error("当前项不能为空"));r()}function a(e,t,r){if(!t)return r(new Error("账号不能为空"));r()}function i(e,t,r){if(!t)return r(new Error("手机号不能为空"));var n=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!n.test(t))return r(new Error("请输入正确的手机号"));r()}function u(e,t,r){if(!t)return r(new Error("请选择"));r()}function o(e,t,r){if(!t)return r(new Error("请输入英文名称"));var n=/^[A-Z]/;if(!n.test(t))return r(new Error("名称必须都是大写"));r()}function s(e,t,r){if(!t)return r(new Error("请输入排序"));var n=/^([1-9][0-9]*)/;if(!n.test(t))return r(new Error("只能输入数字"));r()}function l(e,t,r){if(!t)return r(new Error("请输入链接"));r()}function c(e,t,r){if(!t)return r(new Error("请上传文件  "));r()}function _(e,t,r){if(!t)return r(new Error("请输入日期"));var n=/^([1-9]|[1-2][0-9]|3[0-1])$/;if(!n.test(t))return r(new Error("只能输入1~31范围数字"));r()}function d(e,t,r){if(!t)return r(new Error("请输入价格"));var n=/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;if(!n.test(t))return r(new Error("价格格式不正确"));r()}r.d(t,"f",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"i",function(){return i}),r.d(t,"g",function(){return u}),r.d(t,"b",function(){return o}),r.d(t,"h",function(){return s}),r.d(t,"c",function(){return l}),r.d(t,"j",function(){return c}),r.d(t,"e",function(){return _}),r.d(t,"d",function(){return d})},"99da":function(e,t,r){},b2be:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__),_Users_liming_WebstormProjects_productadmin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("3b8d"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__),_api_parameter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("fb04"),_utils_CommonReg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7b53");__webpack_exports__["a"]={data:function(){var e=this,t=function(t,r,n){if(!r)return n(new Error("请输入投保项名称"));-1!=e.insuredDialogTitle.indexOf("新增")?e.checkInsuranceItemNameAxios({name:r}).then(function(e){if(!e)return n(new Error("投保项名称重复"));n()}):r===e.tableData.list[e.nowIndex].name?n():e.checkInsuranceItemNameAxios({name:r}).then(function(e){if(!e)return n(new Error("投保项名称重复"));n()})},r=function(t,r,n){if(!r)return n(new Error("请输入参数Key"));-1!=e.insuredDialogTitle.indexOf("新增")?e.checkParamKeyAxios({paramKey:r}).then(function(e){if(!e)return n(new Error("参数Key重复"));n()}):r===e.tableData.list[e.nowIndex].paramKey?n():e.checkParamKeyAxios({paramKey:r}).then(function(e){if(!e)return n(new Error("参数Key重复"));n()})};return{insuredDialog:!1,insuredDialogTitle:"",nowIndex:0,searchInsured:{name:""},insuredOperate:{paramKey:"",name:"",controlType:"",defaultDictionarList:[{show:"",value:""}],readOnly:"",unit:""},insuredOperateRules:{paramKey:[{required:!0,validator:r,trigger:"blur"}],name:[{required:!0,validator:t,trigger:"blur"}],controlType:[{required:!0,message:"请选择控制类型",trigger:"blur"}],unit:[{required:!0,message:"请选择单位",trigger:"blur"}],defaultDictionarList:[{required:!0,message:"请输入属性值",trigger:"blur"}],readOnly:[{required:!0,message:"请选择是否只读",trigger:"blur"}],show:[{validator:_utils_CommonReg__WEBPACK_IMPORTED_MODULE_4__["f"],trigger:"blur"}],value:[{validator:_utils_CommonReg__WEBPACK_IMPORTED_MODULE_4__["f"],trigger:"blur"}]},pagination:{pageNum:1,pageSize:8},tableData:[],controlData:[{name:"按钮类型",value:0},{name:"时间框",value:1},{name:"职位级联",value:2},{name:"地区级联列表",value:3},{name:"纯文本",value:4}],unitArr:[{value:1,name:"元"},{value:2,name:"万元"},{value:3,name:"周岁"},{value:4,name:"天"},{value:5,name:"年"},{value:6,name:"月"},{value:7,name:"份"},{value:8,name:"无"}]}},created:function(){this.getInsuranceItemByNameAxios()},methods:{getInsuranceItemByNameAxios:function(e){var t=this;Object(_api_parameter__WEBPACK_IMPORTED_MODULE_3__["f"])(Object.assign(this.pagination,this.searchInsured,e)).then(function(e){"100100"===e.code&&(t.tableData=e.result)})},addInsuranceItemAxios:function(e){var t=this,r=this.insuredOperate.defaultDictionarList.concat();r=JSON.stringify(r);var n=JSON.parse(JSON.stringify(this.insuredOperate));Object(_api_parameter__WEBPACK_IMPORTED_MODULE_3__["a"])(Object.assign(n,{defaultDictionarList:r})).then(function(e){console.log(t.insuredOperate.defaultDictionarList),"100100"===e.code?(t.$message.success(e.msg),t.resetData(),t.handleClose()):t.$message.error(e.msg)})},updateInsuranceItemAxios:function(e){var t=this,r=this.insuredOperate.defaultDictionarList.concat();r=JSON.stringify(r);var n=JSON.parse(JSON.stringify(this.insuredOperate));Object(_api_parameter__WEBPACK_IMPORTED_MODULE_3__["h"])(Object.assign(n,{defaultDictionarList:r})).then(function(e){"100100"===e.code?(t.handleClose(),t.$message.success(e.msg),t.resetData()):t.$message.error(e.msg)})},searchData:function(e){e&&(this.pagination.pageNum=1),this.getInsuranceItemByNameAxios()},checkInsuranceItemNameAxios:function(){var e=Object(_Users_liming_WebstormProjects_productadmin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!1,e.next=3,Object(_api_parameter__WEBPACK_IMPORTED_MODULE_3__["c"])(t).then(function(e){"100100"===e.code&&(r=!e.result)});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),checkParamKeyAxios:function(){var e=Object(_Users_liming_WebstormProjects_productadmin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!1,e.next=3,Object(_api_parameter__WEBPACK_IMPORTED_MODULE_3__["d"])(t).then(function(e){"100100"===e.code&&(r=!e.result)});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),addsearchInsured:function(){this.insuredDialogTitle="新增",this.insuredDialog=!0,this.insuredOperate={paramKey:"",name:"",controlType:"",defaultDictionarList:[{show:"",value:""}],readOnly:"",unit:""}},changePage:function(e){this.pagination.pageNum=e,this.getInsuranceItemByNameAxios(this.pagination)},editRow:function editRow(index){this.nowIndex=index,this.insuredDialog=!0,this.insuredDialogTitle="编辑",this.insuredOperate=JSON.parse(JSON.stringify(this.tableData.list[index])),this.insuredOperate.defaultDictionarList?this.insuredOperate.defaultDictionarList=eval("("+this.insuredOperate.defaultDictionarList+")"):this.insuredOperate.defaultDictionarList=[{show:"",value:""}],this.insuredOperate.readOnly=this.insuredOperate.readOnly?"1":"0"},addItem:function(e){var t={show:"",value:""};this.insuredOperate.defaultDictionarList.splice(e+1,0,t)},deleteItem:function(e){console.log(e),this.insuredOperate.defaultDictionarList.splice(e,1)},messageHandle:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"1"===t.insuredOperate.readOnly?t.insuredOperate.readOnly=!0:t.insuredOperate.readOnly=!1,-1!=t.insuredDialogTitle.indexOf("新增")?t.addInsuranceItemAxios():t.updateInsuranceItemAxios()})},handleClose:function(){this.insuredDialog=!1},closeDialog:function(e){this.$refs[e].resetFields()},resetData:function(){this.getInsuranceItemByNameAxios(this.pagination)},controlType:function(e){var t;return this.controlData.filter(function(r){e===r.value&&(t=r.name)}),t},defaultDictionarList:function defaultDictionarList(value){var content="";return eval("("+value+")")&&eval("("+value+")").map(function(e){content+=e.show+"/"}),content&&(content=content.substr(0,content.length-1)),content}}}},f308:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"app-container"},[r("el-header",[r("el-form",{ref:"searchInsurance",staticClass:"demo-ruleForm",attrs:{model:e.searchInsured}},[r("el-form-item",{attrs:{label:"投保项名称",prop:"name"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-input",{attrs:{placeholder:"请输入投保项名称"},model:{value:e.searchInsured.name,callback:function(t){e.$set(e.searchInsured,"name",t)},expression:"searchInsured.name"}})],1),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.searchData(1)}}},[e._v("查 询")]),e._v(" "),r("el-button",{attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.addsearchInsured}},[e._v("新 增")])],1)],1)],1)],1)],1),e._v(" "),r("el-main",[r("el-table",{staticStyle:{"margin-bottom":"40px"},attrs:{data:e.tableData.list,"show-header":"","header-cell-style":{background:"#F3F4F7",color:"#555"}}},[r("el-table-column",{attrs:{prop:"createDate",label:"添加时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatTime")(t.row.createDate,t.row.createDate))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"name",width:"200",label:"投保项名称",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"controlType",label:"控制类型",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.controlType(t.row.controlType))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"defaultDictionarList",label:"属性值",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.defaultDictionarList(t.row.defaultDictionarList))+"\n        ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"unit",label:"单位",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},nativeOn:{click:function(r){return r.preventDefault(),e.editRow(t.$index)}}},[e._v("\n            编辑\n          ")])]}}])})],1),e._v(" "),r("el-row",{staticStyle:{"text-align":"center"}},[r("el-pagination",{attrs:{background:"","current-page":e.pagination.pageNum,layout:"prev, pager, next","page-sizes":[10,20,30],total:e.tableData.total,"page-size":e.pagination.pageSize},on:{"current-change":e.changePage,"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)}}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.insuredDialogTitle,visible:e.insuredDialog,center:""},on:{"update:visible":function(t){e.insuredDialog=t},close:function(t){return e.closeDialog("insuredOperate")}}},[r("el-form",{ref:"insuredOperate",staticClass:"demo-ruleForm",attrs:{model:e.insuredOperate,rules:e.insuredOperateRules}},[r("el-form-item",{attrs:{label:"参数key",prop:"paramKey","label-width":"120px"}},[r("el-input",{attrs:{placeholder:"请输入参数Key"},model:{value:e.insuredOperate.paramKey,callback:function(t){e.$set(e.insuredOperate,"paramKey",t)},expression:"insuredOperate.paramKey"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"投保项名称",prop:"name","label-width":"120px"}},[r("el-input",{attrs:{placeholder:"请输入投保项名称"},model:{value:e.insuredOperate.name,callback:function(t){e.$set(e.insuredOperate,"name",t)},expression:"insuredOperate.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"控制类型",prop:"controlType","label-width":"120px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.insuredOperate.controlType,callback:function(t){e.$set(e.insuredOperate,"controlType",t)},expression:"insuredOperate.controlType"}},e._l(e.controlData,function(e){return r("el-option",{key:e.name,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"属性值",prop:"defaultDictionarList","label-width":"120px"}},e._l(e.insuredOperate.defaultDictionarList,function(t,n){return r("div",[r("el-row",{staticStyle:{"margin-bottom":"10px"}},[r("el-col",{attrs:{span:17}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"defaultDictionarList."+n+".show",rules:e.insuredOperateRules.show}},[r("el-input",{attrs:{placeholder:"请输入值"},model:{value:t.show,callback:function(r){e.$set(t,"show",r)},expression:"item.show"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{prop:"defaultDictionarList."+n+".value",rules:e.insuredOperateRules.value}},[r("el-input",{attrs:{placeholder:"请输入code"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}})],1)],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:7}},[r("div",{staticClass:"el-icon-content"},[r("i",{staticClass:"el-icon-plus",on:{click:function(t){return e.addItem(n)}}}),e._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:n>0,expression:"index>0"}],staticClass:"el-icon-delete",on:{click:function(t){return e.deleteItem(n)}}})])])],1)],1)}),0),e._v(" "),r("el-form-item",{attrs:{label:"单位",prop:"unit","label-width":"120px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.insuredOperate.unit,callback:function(t){e.$set(e.insuredOperate,"unit",t)},expression:"insuredOperate.unit"}},e._l(e.unitArr,function(e){return r("el-option",{attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否只读",prop:"readOnly","label-width":"120px"}},[r("el-radio-group",{model:{value:e.insuredOperate.readOnly,callback:function(t){e.$set(e.insuredOperate,"readOnly",t)},expression:"insuredOperate.readOnly"}},[r("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.messageHandle("insuredOperate")}}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:e.handleClose}},[e._v("取 消")])],1)],1)],1)},a=[],i=r("b2be"),u=i["a"],o=(r("2704"),r("2877")),s=Object(o["a"])(u,n,a,!1,null,"31bcc865",null);t["default"]=s.exports},fb04:function(e,t,r){"use strict";r.d(t,"g",function(){return a}),r.d(t,"f",function(){return i}),r.d(t,"a",function(){return u}),r.d(t,"h",function(){return o}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return l}),r.d(t,"e",function(){return c}),r.d(t,"b",function(){return _}),r.d(t,"i",function(){return d});var n=r("b775");function a(e){return Object(n["a"])({url:"/admin/getInsuranceItemList",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/admin/getInsuranceItemByName",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/admin/addInsuranceItem",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/admin/updateInsuranceItem",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/admin/checkInsuranceItemName",method:"post",params:e})}function l(e){return Object(n["a"])({url:"/admin/checkParamKey",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/admin/getDictList",method:"get",params:e})}function _(e){return Object(n["a"])({url:"/admin/addOrderOptionDict",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/admin/updateOrderOptionDict",method:"put",data:e})}}}]);