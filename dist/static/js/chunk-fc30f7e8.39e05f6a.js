(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc30f7e8"],{"09ac":function(e,t,a){"use strict";var n=a("e21c"),r=a.n(n);r.a},"3c110":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"app-container"},[a("el-header",[a("el-form",{ref:"searchItem",staticClass:"demo-ruleForm",attrs:{model:e.searchItem}},[a("el-form-item",{attrs:{label:"参数名称",prop:"name"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.searchData}},[e._v("查 询")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.addInsurance}},[e._v("新 增")])],1)],1)],1)],1)],1),e._v(" "),a("el-main",[a("el-table",{staticStyle:{"margin-bottom":"40px"},attrs:{data:e.tableData.data,"show-header":"","header-cell-style":{background:"#F3F4F7",color:"#555"}}},[a("el-table-column",{attrs:{prop:"createDate",label:"添加时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatTime")(t.row.createDate,t.row.createDate))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"参数名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"controlType",label:"控制类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hintMsg",label:"提示语",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.hintMsg?a("div",[e._v("\n            "+e._s(t.row.hintMsg)+"\n          ")]):a("div",[e._v("\n            "+e._s(e.dictionaryList(t.row.defaultDictionarList))+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},nativeOn:{click:function(a){return a.preventDefault(),e.editRow(t.$index)}}},[e._v("\n            编辑\n          ")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{background:"","current-page":e.pagination.pageNum,layout:"prev, pager, next","page-sizes":[10,20,30],total:e.tableData.total,"page-size":e.pagination.pageSize},on:{"current-change":e.changePage,"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)}}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.itemMessageTitle,visible:e.itemMessageDialog,center:""},on:{"update:visible":function(t){e.itemMessageDialog=t},close:function(t){return e.closeDialog("itemMessage")}}},[a("el-form",{ref:"itemMessage",staticClass:"demo-ruleForm",attrs:{model:e.itemMessage,rules:e.itemMessageRules}},[a("el-form-item",{attrs:{label:"参数名称",prop:"name","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.itemMessage.name,callback:function(t){e.$set(e.itemMessage,"name",t)},expression:"itemMessage.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数Key",prop:"paramKey","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入参数Key"},model:{value:e.itemMessage.paramKey,callback:function(t){e.$set(e.itemMessage,"paramKey",t)},expression:"itemMessage.paramKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"控制类型",prop:"controlType","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.itemMessage.controlType,callback:function(t){e.$set(e.itemMessage,"controlType",t)},expression:"itemMessage.controlType"}},e._l(e.controlData,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isPull,expression:"!isPull"}],attrs:{label:"提示语",prop:"hintMsg","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入提示语"},model:{value:e.itemMessage.hintMsg,callback:function(t){e.$set(e.itemMessage,"hintMsg",t)},expression:"itemMessage.hintMsg"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isPull,expression:"isPull"}],attrs:{label:"属性值",prop:"defaultDictionarList","label-width":"120px"}},e._l(e.itemMessage.defaultDictionarList,function(t,n){return a("div",[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-col",{attrs:{span:17}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"defaultDictionarList."+n+".show",rules:e.itemMessageRules.show}},[a("el-input",{attrs:{placeholder:"请输入值"},model:{value:t.show,callback:function(a){e.$set(t,"show",a)},expression:"item.show"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"defaultDictionarList."+n+".value",rules:e.itemMessageRules.value}},[a("el-input",{attrs:{placeholder:"请输入code"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"el-icon-content"},[a("i",{staticClass:"el-icon-plus",on:{click:function(t){return e.addItem(n)}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:n>0,expression:"index>0"}],staticClass:"el-icon-delete",on:{click:function(t){return e.deleteItem(n)}}})])])],1)],1)}),0)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.messageHandle("itemMessage")}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.handleClose}},[e._v("取 消")])],1)],1)],1)},r=[],i=a("911b"),s=i["a"],o=(a("09ac"),a("2877")),l=Object(o["a"])(s,n,r,!1,null,"4e8c25d4",null);t["default"]=l.exports},"7b53":function(e,t,a){"use strict";function n(e,t,a){if(!t)return a(new Error("当前项不能为空"));a()}function r(e,t,a){if(!t)return a(new Error("账号不能为空"));a()}function i(e,t,a){if(!t)return a(new Error("手机号不能为空"));var n=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!n.test(t))return a(new Error("请输入正确的手机号"));a()}function s(e,t,a){if(!t)return a(new Error("请选择"));a()}function o(e,t,a){if(!t)return a(new Error("请输入英文名称"));var n=/^[A-Z]/;if(!n.test(t))return a(new Error("名称必须都是大写"));a()}function l(e,t,a){if(!t)return a(new Error("请输入排序"));var n=/^([1-9][0-9]*)/;if(!n.test(t))return a(new Error("只能输入数字"));a()}function u(e,t,a){if(!t)return a(new Error("请输入链接"));a()}function c(e,t,a){if(!t)return a(new Error("请上传文件  "));a()}function m(e,t,a){if(!t)return a(new Error("请输入日期"));var n=/^([1-9]|[1-2][0-9]|3[0-1])$/;if(!n.test(t))return a(new Error("只能输入1~31范围数字"));a()}function p(e,t,a){if(!t)return a(new Error("请输入价格"));var n=/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;if(!n.test(t))return a(new Error("价格格式不正确"));a()}a.d(t,"f",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"i",function(){return i}),a.d(t,"g",function(){return s}),a.d(t,"b",function(){return o}),a.d(t,"h",function(){return l}),a.d(t,"c",function(){return u}),a.d(t,"j",function(){return c}),a.d(t,"e",function(){return m}),a.d(t,"d",function(){return p})},"911b":function(module,__webpack_exports__,__webpack_require__){"use strict";var _api_parameter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fb04"),_utils_CommonReg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7b53");__webpack_exports__["a"]={data:function(){var e=this,t=function(t,a,n){if(1===e.itemMessage.controlType){if(!a)return n(new Error("当前项不能为空"));n()}else n()},a=function(t,a,n){if(1!==e.itemMessage.controlType){if(!a)return n(new Error("请输入提示语"));n()}else n()};return{searchItem:{name:""},pagination:{pageNum:1,pageSize:8},tableData:[{}],itemMessageTitle:"",itemMessageDialog:!1,itemMessage:{name:"",controlType:"",hintMsg:"",defaultDictionarList:[{show:"",value:""}],paramKey:""},itemMessageRules:{name:[{validator:_utils_CommonReg__WEBPACK_IMPORTED_MODULE_1__["f"],trigger:"blur"}],paramKey:[{validator:_utils_CommonReg__WEBPACK_IMPORTED_MODULE_1__["f"],trigger:"blur"}],controlType:[{validator:_utils_CommonReg__WEBPACK_IMPORTED_MODULE_1__["g"],trigger:"blur"}],hintMsg:[{validator:a,trigger:"blur"}],show:[{validator:t,trigger:"blur"}],value:[{validator:t,trigger:"blur"}]},controlData:[{name:"文本输入框",value:0},{name:"下拉框",value:1},{name:"日期选择器",value:2},{name:"地区选择器",value:3},{name:"职业选择器",value:4},{name:"证件有效期专用控制器",value:5}]}},computed:{isPull:function(){return 1===this.itemMessage.controlType}},created:function(){this.getDictListAxios()},methods:{getDictListAxios:function(e){var t=this;Object(_api_parameter__WEBPACK_IMPORTED_MODULE_0__["e"])(Object.assign({groupType:this.$route.params.id},this.searchItem,this.pagination,e)).then(function(e){"100100"===e.code&&(0===e.result.data.length&&1!==t.pagination.pageNum&&t.getDictListAxios(),t.tableData=e.result)})},addOrderOptionDictAxios:function(){var e=this,t=this.itemMessage.defaultDictionarList.concat();t=JSON.stringify(t);var a=JSON.parse(JSON.stringify(this.itemMessage));Object(_api_parameter__WEBPACK_IMPORTED_MODULE_0__["b"])(Object.assign({groupType:this.$route.params.id},a,{defaultDictionarList:t})).then(function(t){"100100"===t.code?(e.$message.success(t.msg),e.searchData(),e.handleClose()):e.$message.error(t.msg)})},updateOrderOptionDictAxios:function(){var e=this,t=this.itemMessage.defaultDictionarList.concat();t=JSON.stringify(t);var a=JSON.parse(JSON.stringify(this.itemMessage));Object(_api_parameter__WEBPACK_IMPORTED_MODULE_0__["i"])(Object.assign(a,{defaultDictionarList:t})).then(function(t){"100100"===t.code?(e.$message.success(t.msg),e.searchData(),e.handleClose()):e.$message.error(t.msg)})},searchData:function(e){e&&(this.pagination.pageNum=1),this.getDictListAxios(this.pagination)},changePage:function(e){this.pagination.pageNum=e,this.getDictListAxios(this.pagination)},editRow:function editRow(index){this.itemMessageTitle="编辑",this.itemMessageDialog=!0,this.itemMessage=JSON.parse(JSON.stringify(this.tableData.data[index])),this.itemMessage.defaultDictionarList=eval("("+this.itemMessage.defaultDictionarList+")")},addInsurance:function(){this.itemMessageTitle="新增",this.itemMessageDialog=!0,this.itemMessage={name:"",controlType:"",hintMsg:"",defaultDictionarList:[{show:"",value:""}],paramKey:""}},handleClose:function(){this.itemMessageDialog=!1},closeDialog:function(e){this.$refs[e].resetFields()},addItem:function(e){var t={show:"",value:""};this.itemMessage.defaultDictionarList.splice(e+1,0,t)},deleteItem:function(e){this.itemMessage.defaultDictionarList.splice(e,1)},messageHandle:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;-1!=t.itemMessageTitle.indexOf("新增")?t.addOrderOptionDictAxios():t.updateOrderOptionDictAxios()})},dictionaryList:function(e){var t=[];return JSON.parse(e).map(function(e){t.push(e.show)}),t.join("/")}}}},e21c:function(e,t,a){},fb04:function(e,t,a){"use strict";a.d(t,"g",function(){return r}),a.d(t,"f",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"h",function(){return o}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return u}),a.d(t,"e",function(){return c}),a.d(t,"b",function(){return m}),a.d(t,"i",function(){return p});var n=a("b775");function r(e){return Object(n["a"])({url:"/admin/getInsuranceItemList",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/admin/getInsuranceItemByName",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/admin/addInsuranceItem",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/admin/updateInsuranceItem",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/admin/checkInsuranceItemName",method:"post",params:e})}function u(e){return Object(n["a"])({url:"/admin/checkParamKey",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/admin/getDictList",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/admin/addOrderOptionDict",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/admin/updateOrderOptionDict",method:"put",data:e})}}}]);